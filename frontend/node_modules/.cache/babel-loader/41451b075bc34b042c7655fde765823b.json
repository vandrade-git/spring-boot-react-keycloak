{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport StaticAxios from 'axios';\nimport LRU from 'lru-cache';\nvar actions = {\n  REQUEST_START: 'REQUEST_START',\n  REQUEST_END: 'REQUEST_END'\n};\nvar useAxios = makeUseAxios();\nvar __ssrPromises = useAxios.__ssrPromises,\n    resetConfigure = useAxios.resetConfigure,\n    configure = useAxios.configure,\n    loadCache = useAxios.loadCache,\n    serializeCache = useAxios.serializeCache,\n    clearCache = useAxios.clearCache;\nexport default useAxios;\nexport { __ssrPromises, resetConfigure, configure, loadCache, serializeCache, clearCache };\n\nfunction isReactEvent(obj) {\n  return obj && obj.nativeEvent && obj.nativeEvent instanceof Event;\n}\n\nfunction createCacheKey(config) {\n  var cleanedConfig = _extends({}, config);\n\n  delete cleanedConfig.cancelToken;\n  return JSON.stringify(cleanedConfig);\n}\n\nfunction configToObject(config) {\n  if (typeof config === 'string') {\n    return {\n      url: config\n    };\n  }\n\n  return config;\n}\n\nexport function makeUseAxios(configurationOptions) {\n  var cache;\n  var axiosInstance;\n  var __ssrPromises = [];\n\n  function resetConfigure() {\n    cache = new LRU();\n    axiosInstance = StaticAxios;\n  }\n\n  function configure(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.axios !== undefined) {\n      axiosInstance = options.axios;\n    }\n\n    if (options.cache !== undefined) {\n      cache = options.cache;\n    }\n  }\n\n  resetConfigure();\n  configure(configurationOptions);\n\n  function loadCache(data) {\n    cache.load(data);\n  }\n\n  function serializeCache() {\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function _serializeCache() {\n    _serializeCache = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var ssrPromisesCopy;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ssrPromisesCopy = [].concat(__ssrPromises);\n              __ssrPromises.length = 0;\n              _context.next = 4;\n              return Promise.all(ssrPromisesCopy);\n\n            case 4:\n              return _context.abrupt(\"return\", cache.dump());\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function clearCache() {\n    cache.reset();\n  }\n\n  return Object.assign(useAxios, {\n    __ssrPromises: __ssrPromises,\n    resetConfigure: resetConfigure,\n    configure: configure,\n    loadCache: loadCache,\n    serializeCache: serializeCache,\n    clearCache: clearCache\n  });\n\n  function tryStoreInCache(config, response) {\n    if (!cache) {\n      return;\n    }\n\n    var cacheKey = createCacheKey(config);\n\n    var responseForCache = _extends({}, response);\n\n    delete responseForCache.config;\n    delete responseForCache.request;\n    cache.set(cacheKey, responseForCache);\n  }\n\n  function createInitialState(config, options) {\n    var response = !options.manual && tryGetFromCache(config, options);\n    return _extends({\n      loading: !options.manual && !response,\n      error: null\n    }, response ? {\n      data: response.data,\n      response: response\n    } : null);\n  }\n\n  function reducer(state, action) {\n    var _extends2;\n\n    switch (action.type) {\n      case actions.REQUEST_START:\n        return _extends({}, state, {\n          loading: true,\n          error: null\n        });\n\n      case actions.REQUEST_END:\n        return _extends({}, state, {\n          loading: false\n        }, action.error ? {} : {\n          data: action.payload.data\n        }, (_extends2 = {}, _extends2[action.error ? 'error' : 'response'] = action.payload, _extends2));\n    }\n  }\n\n  function tryGetFromCache(config, options, dispatch) {\n    if (!cache || !options.useCache) {\n      return;\n    }\n\n    var cacheKey = createCacheKey(config);\n    var response = cache.get(cacheKey);\n\n    if (response && dispatch) {\n      dispatch({\n        type: actions.REQUEST_END,\n        payload: response\n      });\n    }\n\n    return response;\n  }\n\n  function executeRequest(_x, _x2) {\n    return _executeRequest.apply(this, arguments);\n  }\n\n  function _executeRequest() {\n    _executeRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(config, dispatch) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              dispatch({\n                type: actions.REQUEST_START\n              });\n              _context2.next = 4;\n              return axiosInstance(config);\n\n            case 4:\n              response = _context2.sent;\n              tryStoreInCache(config, response);\n              dispatch({\n                type: actions.REQUEST_END,\n                payload: response\n              });\n              return _context2.abrupt(\"return\", response);\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n\n              if (!StaticAxios.isCancel(_context2.t0)) {\n                dispatch({\n                  type: actions.REQUEST_END,\n                  payload: _context2.t0,\n                  error: true\n                });\n              }\n\n              throw _context2.t0;\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n    return _executeRequest.apply(this, arguments);\n  }\n\n  function request(_x3, _x4, _x5) {\n    return _request.apply(this, arguments);\n  }\n\n  function _request() {\n    _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(config, options, dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", tryGetFromCache(config, options, dispatch) || executeRequest(config, dispatch));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _request.apply(this, arguments);\n  }\n\n  function useAxios(config, options) {\n    config = React.useMemo(function () {\n      return configToObject(config);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [JSON.stringify(config)]);\n    options = React.useMemo(function () {\n      return _extends({\n        manual: false,\n        useCache: true\n      }, options);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [JSON.stringify(options)]);\n    var cancelSourceRef = React.useRef();\n\n    var _React$useReducer = React.useReducer(reducer, createInitialState(config, options)),\n        state = _React$useReducer[0],\n        dispatch = _React$useReducer[1];\n\n    if (typeof window === 'undefined' && !options.manual) {\n      useAxios.__ssrPromises.push(axiosInstance(config));\n    }\n\n    var cancelOutstandingRequest = React.useCallback(function () {\n      if (cancelSourceRef.current) {\n        cancelSourceRef.current.cancel();\n      }\n    }, []);\n    var withCancelToken = React.useCallback(function (config) {\n      cancelOutstandingRequest();\n      cancelSourceRef.current = StaticAxios.CancelToken.source();\n      config.cancelToken = cancelSourceRef.current.token;\n      return config;\n    }, [cancelOutstandingRequest]);\n    React.useEffect(function () {\n      if (!options.manual) {\n        request(withCancelToken(config), options, dispatch)[\"catch\"](function () {});\n      }\n\n      return cancelOutstandingRequest;\n    }, [config, options, withCancelToken, cancelOutstandingRequest]);\n    var refetch = React.useCallback(function (configOverride, options) {\n      configOverride = configToObject(configOverride);\n      return request(withCancelToken(_extends({}, config, isReactEvent(configOverride) ? null : configOverride)), _extends({\n        useCache: false\n      }, options), dispatch);\n    }, [config, withCancelToken]);\n    return [state, refetch];\n  }\n}","map":{"version":3,"sources":["/home/vandrade/Documents/Projects/Personal/keycloak-experiment/frontend/node_modules/axios-hooks/es/index.js"],"names":["_regeneratorRuntime","_asyncToGenerator","_extends","React","StaticAxios","LRU","actions","REQUEST_START","REQUEST_END","useAxios","makeUseAxios","__ssrPromises","resetConfigure","configure","loadCache","serializeCache","clearCache","isReactEvent","obj","nativeEvent","Event","createCacheKey","config","cleanedConfig","cancelToken","JSON","stringify","configToObject","url","configurationOptions","cache","axiosInstance","options","axios","undefined","data","load","_serializeCache","apply","arguments","mark","_callee","ssrPromisesCopy","wrap","_callee$","_context","prev","next","concat","length","Promise","all","abrupt","dump","stop","reset","Object","assign","tryStoreInCache","response","cacheKey","responseForCache","request","set","createInitialState","manual","tryGetFromCache","loading","error","reducer","state","action","_extends2","type","payload","dispatch","useCache","get","executeRequest","_x","_x2","_executeRequest","_callee2","_callee2$","_context2","sent","t0","isCancel","_x3","_x4","_x5","_request","_callee3","_callee3$","_context3","useMemo","cancelSourceRef","useRef","_React$useReducer","useReducer","window","push","cancelOutstandingRequest","useCallback","current","cancel","withCancelToken","CancelToken","source","token","useEffect","refetch","configOverride"],"mappings":"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","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport StaticAxios from 'axios';\nimport LRU from 'lru-cache';\nvar actions = {\n  REQUEST_START: 'REQUEST_START',\n  REQUEST_END: 'REQUEST_END'\n};\nvar useAxios = makeUseAxios();\nvar __ssrPromises = useAxios.__ssrPromises,\n    resetConfigure = useAxios.resetConfigure,\n    configure = useAxios.configure,\n    loadCache = useAxios.loadCache,\n    serializeCache = useAxios.serializeCache,\n    clearCache = useAxios.clearCache;\nexport default useAxios;\nexport { __ssrPromises, resetConfigure, configure, loadCache, serializeCache, clearCache };\n\nfunction isReactEvent(obj) {\n  return obj && obj.nativeEvent && obj.nativeEvent instanceof Event;\n}\n\nfunction createCacheKey(config) {\n  var cleanedConfig = _extends({}, config);\n\n  delete cleanedConfig.cancelToken;\n  return JSON.stringify(cleanedConfig);\n}\n\nfunction configToObject(config) {\n  if (typeof config === 'string') {\n    return {\n      url: config\n    };\n  }\n\n  return config;\n}\n\nexport function makeUseAxios(configurationOptions) {\n  var cache;\n  var axiosInstance;\n  var __ssrPromises = [];\n\n  function resetConfigure() {\n    cache = new LRU();\n    axiosInstance = StaticAxios;\n  }\n\n  function configure(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.axios !== undefined) {\n      axiosInstance = options.axios;\n    }\n\n    if (options.cache !== undefined) {\n      cache = options.cache;\n    }\n  }\n\n  resetConfigure();\n  configure(configurationOptions);\n\n  function loadCache(data) {\n    cache.load(data);\n  }\n\n  function serializeCache() {\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function _serializeCache() {\n    _serializeCache = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var ssrPromisesCopy;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ssrPromisesCopy = [].concat(__ssrPromises);\n              __ssrPromises.length = 0;\n              _context.next = 4;\n              return Promise.all(ssrPromisesCopy);\n\n            case 4:\n              return _context.abrupt(\"return\", cache.dump());\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function clearCache() {\n    cache.reset();\n  }\n\n  return Object.assign(useAxios, {\n    __ssrPromises: __ssrPromises,\n    resetConfigure: resetConfigure,\n    configure: configure,\n    loadCache: loadCache,\n    serializeCache: serializeCache,\n    clearCache: clearCache\n  });\n\n  function tryStoreInCache(config, response) {\n    if (!cache) {\n      return;\n    }\n\n    var cacheKey = createCacheKey(config);\n\n    var responseForCache = _extends({}, response);\n\n    delete responseForCache.config;\n    delete responseForCache.request;\n    cache.set(cacheKey, responseForCache);\n  }\n\n  function createInitialState(config, options) {\n    var response = !options.manual && tryGetFromCache(config, options);\n    return _extends({\n      loading: !options.manual && !response,\n      error: null\n    }, response ? {\n      data: response.data,\n      response: response\n    } : null);\n  }\n\n  function reducer(state, action) {\n    var _extends2;\n\n    switch (action.type) {\n      case actions.REQUEST_START:\n        return _extends({}, state, {\n          loading: true,\n          error: null\n        });\n\n      case actions.REQUEST_END:\n        return _extends({}, state, {\n          loading: false\n        }, action.error ? {} : {\n          data: action.payload.data\n        }, (_extends2 = {}, _extends2[action.error ? 'error' : 'response'] = action.payload, _extends2));\n    }\n  }\n\n  function tryGetFromCache(config, options, dispatch) {\n    if (!cache || !options.useCache) {\n      return;\n    }\n\n    var cacheKey = createCacheKey(config);\n    var response = cache.get(cacheKey);\n\n    if (response && dispatch) {\n      dispatch({\n        type: actions.REQUEST_END,\n        payload: response\n      });\n    }\n\n    return response;\n  }\n\n  function executeRequest(_x, _x2) {\n    return _executeRequest.apply(this, arguments);\n  }\n\n  function _executeRequest() {\n    _executeRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(config, dispatch) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              dispatch({\n                type: actions.REQUEST_START\n              });\n              _context2.next = 4;\n              return axiosInstance(config);\n\n            case 4:\n              response = _context2.sent;\n              tryStoreInCache(config, response);\n              dispatch({\n                type: actions.REQUEST_END,\n                payload: response\n              });\n              return _context2.abrupt(\"return\", response);\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n\n              if (!StaticAxios.isCancel(_context2.t0)) {\n                dispatch({\n                  type: actions.REQUEST_END,\n                  payload: _context2.t0,\n                  error: true\n                });\n              }\n\n              throw _context2.t0;\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n    return _executeRequest.apply(this, arguments);\n  }\n\n  function request(_x3, _x4, _x5) {\n    return _request.apply(this, arguments);\n  }\n\n  function _request() {\n    _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(config, options, dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", tryGetFromCache(config, options, dispatch) || executeRequest(config, dispatch));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _request.apply(this, arguments);\n  }\n\n  function useAxios(config, options) {\n    config = React.useMemo(function () {\n      return configToObject(config);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [JSON.stringify(config)]);\n    options = React.useMemo(function () {\n      return _extends({\n        manual: false,\n        useCache: true\n      }, options);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [JSON.stringify(options)]);\n    var cancelSourceRef = React.useRef();\n\n    var _React$useReducer = React.useReducer(reducer, createInitialState(config, options)),\n        state = _React$useReducer[0],\n        dispatch = _React$useReducer[1];\n\n    if (typeof window === 'undefined' && !options.manual) {\n      useAxios.__ssrPromises.push(axiosInstance(config));\n    }\n\n    var cancelOutstandingRequest = React.useCallback(function () {\n      if (cancelSourceRef.current) {\n        cancelSourceRef.current.cancel();\n      }\n    }, []);\n    var withCancelToken = React.useCallback(function (config) {\n      cancelOutstandingRequest();\n      cancelSourceRef.current = StaticAxios.CancelToken.source();\n      config.cancelToken = cancelSourceRef.current.token;\n      return config;\n    }, [cancelOutstandingRequest]);\n    React.useEffect(function () {\n      if (!options.manual) {\n        request(withCancelToken(config), options, dispatch)[\"catch\"](function () {});\n      }\n\n      return cancelOutstandingRequest;\n    }, [config, options, withCancelToken, cancelOutstandingRequest]);\n    var refetch = React.useCallback(function (configOverride, options) {\n      configOverride = configToObject(configOverride);\n      return request(withCancelToken(_extends({}, config, isReactEvent(configOverride) ? null : configOverride)), _extends({\n        useCache: false\n      }, options), dispatch);\n    }, [config, withCancelToken]);\n    return [state, refetch];\n  }\n}"]},"metadata":{},"sourceType":"module"}